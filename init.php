session_start(); $lang = $_GET['lang'] ?? $_COOKIE['lang'] ?? 'en'; $allowed_langs = ['en', 'de', 'fr', 'it', 'ru', 'ukr']; if (!in_array($lang, $allowed_langs)) { $lang = 'en'; } setcookie('lang', $lang, time() + 3600*24*30, '/'); require_once __DIR__ . '/includes/I18N.php'; I18N::setLanguage($lang); $config_file = __DIR__ . '/data/config.json'; if (file_exists($config_file)) { $CONFIG = json_decode(file_get_contents($config_file), true); } else { $CONFIG = ['free_shipping_threshold' => 80, 'admin_email' => 'admin@nichehome.ch', 'currency' => 'CHF', 'discount_gift_set' => 0.05]; } require_once __DIR__ . '/includes/helpers.php';